<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
<!--        TAXES-->
            <record id="tax_iva_sale" model="account.tax">
                <field name="name">IVA</field>
                <field name="amount">16</field>
                <field name="type_tax_use">sale</field>
            </record>
            <record id="tax_iva_purchase" model="account.tax">
                <field name="name">IVA</field>
                <field name="amount">16</field>
                <field name="type_tax_use">purchase</field>
            </record>
<!--        CATEGORIES-->
            <record id="category_package" model="product.category">
                <field name="name">Package</field>
            </record>
            <record id="category_phone" model="product.category">
                <field name="name">Phone</field>
            </record>
            <record id="category_protection" model="product.category">
                <field name="name">Protection</field>
            </record>
            <record id="category_plan" model="product.category">
                <field name="name">Plan</field>
            </record>
<!--        ATTRIBUTES-->
            <record id="attribute_size" model="product.attribute">
                <field name="name">Size</field>
            </record>
            <record id="attribute_color" model="product.attribute">
                <field name="name">Color</field>
            </record>
            <record id="attribute_protection" model="product.attribute">
                <field name="name">Protection</field>
            </record>
            <record id="attribute_plan" model="product.attribute">
                <field name="name">Plan</field>
            </record>
<!--        VALUES-->
            <record id="value_64" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_size"/>
                <field name="name">64 GB</field>
            </record>
            <record id="value_128" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_size"/>
                <field name="name">128 GB</field>
            </record>
            <record id="value_yellow" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_color"/>
                <field name="name">Yellow</field>
            </record>
            <record id="value_blue" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_color"/>
                <field name="name">Blue</field>
            </record>
            <record id="value_black" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_color"/>
                <field name="name">Black</field>
            </record>
            <record id="value_55" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_protection"/>
                <field name="name">55</field>
            </record>
            <record id="value_105" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_protection"/>
                <field name="name">105</field>
            </record>
            <record id="value_155" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_protection"/>
                <field name="name">155</field>
            </record>
            <record id="value_plan_350" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_plan"/>
                <field name="name">350</field>
            </record>
            <record id="value_plan_500" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_plan"/>
                <field name="name">500</field>
            </record>
            <record id="value_plan_750" model="product.attribute.value">
                <field name="attribute_id" ref="attribute_plan"/>
                <field name="name">750</field>
            </record>
<!--        PRODUCTS-->
            <record id="template_m3" model="product.template">
                <field name="name">Xiaomi M3</field>
                <field name="categ_id" ref="category_phone"/>
                <field name="type">product</field>
                <field name="list_price">3000</field>
                <field name="tracking">serial</field>
                <field name="taxes_id" eval="[(6, 0, [tax_iva_sale])]"/>
                <field name="supplier_taxes_id" eval="[(6, 0, [tax_iva_purchase])]"/>
                <field name="uom_id" ref="uom.product_uom_unit"/>
                <field name="uom_po_id" ref="uom.product_uom_unit"/>
            </record>
            <record id="template_x3" model="product.template">
                <field name="name">Xiaomi X3</field>
                <field name="categ_id" ref="category_phone"/>
                <field name="type">product</field>
                <field name="list_price">5000</field>
                <field name="tracking">serial</field>
                <field name="taxes_id" eval="[(6, 0, [tax_iva_sale])]"/>
                <field name="supplier_taxes_id" eval="[(6, 0, [tax_iva_purchase])]"/>
                <field name="uom_id" ref="uom.product_uom_unit"/>
                <field name="uom_po_id" ref="uom.product_uom_unit"/>
            </record>
            <record id="template_protection" model="product.template">
                <field name="name">Protection</field>
                <field name="categ_id" ref="category_protection"/>
                <field name="type">service</field>
                <field name="list_price">50</field>
                <field name="taxes_id" eval="[(6, 0, [tax_iva_sale])]"/>
                <field name="supplier_taxes_id" eval="[(6, 0, [tax_iva_purchase])]"/>
                <field name="uom_id" ref="uom.product_uom_unit"/>
                <field name="uom_po_id" ref="uom.product_uom_unit"/>
            </record>
            <record id="template_plan" model="product.template">
                <field name="name">Plan</field>
                <field name="categ_id" ref="category_plan"/>
                <field name="type">service</field>
                <field name="list_price">350</field>
                <field name="taxes_id" eval="[(6, 0, [tax_iva_sale])]"/>
                <field name="supplier_taxes_id" eval="[(6, 0, [tax_iva_purchase])]"/>
                <field name="uom_id" ref="uom.product_uom_unit"/>
                <field name="uom_po_id" ref="uom.product_uom_unit"/>
            </record>
<!--        PRODUCT VARIANTS-->
            <record id="attribute_line_m3_size" model="product.template.attribute.line">
                <field name="product_tmpl_id" ref="template_m3"/>
                <field name="attribute_id" ref="attribute_size"/>
                <field name="value_ids" eval="[(6, 0, [ref('value_64'), ref('value_128')])]"/>
            </record>
            <function model="ir.model.data" name="_update_xmlids">
                <value model="base" eval="[{
                    'xml_id': 'ikom.m3_size_64',
                    'record': obj().env.ref('ikom.attribute_line_m3_size').product_template_value_ids[0],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.m3_size_128',
                    'record': obj().env.ref('ikom.attribute_line_m3_size').product_template_value_ids[1],
                    'noupdate': True,
                }]"/>
            </function>
            <record id="attribute_line_m3_color" model="product.template.attribute.line">
                <field name="product_tmpl_id" ref="template_m3"/>
                <field name="attribute_id" ref="attribute_color"/>
                <field name="value_ids" eval="[(6, 0, [ref('value_yellow'), ref('value_blue'), ref('value_black')])]"/>
            </record>
            <function model="ir.model.data" name="_update_xmlids">
                <value model="base" eval="[{
                    'xml_id': 'ikom.m3_color_yellow',
                    'record': obj().env.ref('ikom.attribute_line_m3_color').product_template_value_ids[0],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.m3_color_blue',
                    'record': obj().env.ref('ikom.attribute_line_m3_color').product_template_value_ids[1],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.m3_color_black',
                    'record': obj().env.ref('ikom.attribute_line_m3_color').product_template_value_ids[2],
                    'noupdate': True,
                }]"/>
            </function>
            <record id="attribute_line_x3_size" model="product.template.attribute.line">
                <field name="product_tmpl_id" ref="template_x3"/>
                <field name="attribute_id" ref="attribute_size"/>
                <field name="value_ids" eval="[(6, 0, [ref('value_64'), ref('value_128')])]"/>
            </record>
            <function model="ir.model.data" name="_update_xmlids">
                <value model="base" eval="[{
                    'xml_id': 'ikom.x3_size_64',
                    'record': obj().env.ref('ikom.attribute_line_x3_size').product_template_value_ids[0],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.x3_size_128',
                    'record': obj().env.ref('ikom.attribute_line_x3_size').product_template_value_ids[1],
                    'noupdate': True,
                }]"/>
            </function>
            <record id="attribute_line_x3_color" model="product.template.attribute.line">
                <field name="product_tmpl_id" ref="template_x3"/>
                <field name="attribute_id" ref="attribute_color"/>
                <field name="value_ids" eval="[(6, 0, [ref('value_yellow'), ref('value_blue'), ref('value_black')])]"/>
            </record>
            <function model="ir.model.data" name="_update_xmlids">
                <value model="base" eval="[{
                    'xml_id': 'ikom.x3_color_yellow',
                    'record': obj().env.ref('ikom.attribute_line_x3_color').product_template_value_ids[0],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.x3_color_blue',
                    'record': obj().env.ref('ikom.attribute_line_x3_color').product_template_value_ids[1],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.x3_color_black',
                    'record': obj().env.ref('ikom.attribute_line_x3_color').product_template_value_ids[2],
                    'noupdate': True,
                }]"/>
            </function>
            <record id="attribute_line_protection" model="product.template.attribute.line">
                <field name="product_tmpl_id" ref="template_protection"/>
                <field name="attribute_id" ref="attribute_protection"/>
                <field name="value_ids" eval="[(6, 0, [ref('value_55'), ref('value_105'), ref('value_155')])]"/>
            </record>
            <function model="ir.model.data" name="_update_xmlids">
                <value model="base" eval="[{
                    'xml_id': 'ikom.protection_55',
                    'record': obj().env.ref('ikom.attribute_line_protection').product_template_value_ids[0],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.protection_105',
                    'record': obj().env.ref('ikom.attribute_line_protection').product_template_value_ids[1],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.protection_155',
                    'record': obj().env.ref('ikom.attribute_line_protection').product_template_value_ids[2],
                    'noupdate': True,
                }]"/>
            </function>
            <record id="attribute_line_plan" model="product.template.attribute.line">
                <field name="product_tmpl_id" ref="template_plan"/>
                <field name="attribute_id" ref="attribute_plan"/>
                <field name="value_ids" eval="[(6, 0, [ref('value_plan_350'), ref('value_plan_500'), ref('value_plan_750')])]"/>
            </record>
            <function model="ir.model.data" name="_update_xmlids">
                <value model="base" eval="[{
                    'xml_id': 'ikom.protection_350',
                    'record': obj().env.ref('ikom.attribute_line_plan').product_template_value_ids[0],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.protection_500',
                    'record': obj().env.ref('ikom.attribute_line_plan').product_template_value_ids[1],
                    'noupdate': True,
                }, {
                    'xml_id': 'ikom.protection_750',
                    'record': obj().env.ref('ikom.attribute_line_plan').product_template_value_ids[2],
                    'noupdate': True,
                }]"/>
            </function>
<!--        REST OF CONFIGURATION-->
        <function model="product.product" name="_ikom_set_settings"/>
    </data>
</odoo>