<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="compare_bom_wizard_form_view_inherit" model="ir.ui.view">
        <field name="name">compare_bom_wizard_form_view.inherit</field>
        <field name="model">compare.bom.wizard</field>
        <field name="inherit_id" ref="aci_mrp_plm.compare_bom_wizard_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//group" position="after">
               <group string="Type">
                   <field name="report_type" widget="radio" options="{'horizontal': true}"/>
               </group>
            </xpath>
        </field>
    </record>
    
    <record id="update_operation_bom_wizard_form_view" model="ir.ui.view">
        <field name="name">update.operation.bom.wizard.form.view</field>
        <field name="model">update.operation.bom.wizard</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group string="Source">
                            <field name="source_warehouse" readonly="1"/>
                            <field name="source_context" readonly="1"/>
                            <field name="source_bom_id" readonly="1"/>
                            <field name="source_bom_type" invisible="1"/>
                            <field name="source_product_tmpl_id" readonly="1"/>
                        </group>
                        <group string="Targets">
                            <field name="target_warehouse" options="{'no_create': True}"
                                   domain="[('context_type','in',['mrp', 'core'])]" required="1"/>
                            <field name="target_context" options="{'no_create': True}"
                                   required="1" domain="[('bom_type','=','budget'),
                                   ('context_warehouse','=',target_warehouse)]"/>
                            <field name="target_model_bom_ids" widget="many2many_tags"
                                   domain="[('bom_type','=', 'model'),
                                            ('context_bom','=',context_bom)]"
                                   attrs="{'invisible': [('source_bom_type','=', 'workorder')],
                                           'required' : [('source_bom_type', '=', 'model')]}"
                                   options="{'no_create': True}"/>
                            <field name="target_workorder_bom_ids" widget="many2many_tags"
                                   domain="[('bom_type','=', 'workorder'),
                                            ('context_bom','=',context_bom)]"
                                   attrs="{'invisible': [('source_bom_type','=', 'model')],
                                           'required' : [('source_bom_type', '=', 'workorder')]}"
                                   options="{'no_create': True}"/>
                        </group>
                    </group>
                    <group col="8">
                        <group string="Copy type" col="2">
                            <field name="update_pay"/>
                            <field name="update_extra"/>
                            <field name="update_rate"/>
                        </group>
                        <group col="6" colspan="4" string="WorkOrders"
                        attrs="{'invisible': [('source_bom_type','=', 'workorder')]}">
                            <field nolabel="1" name="bom_lines" attrs="{'invisible': [('source_bom_type','=', 'workorder')]}"
                            domain="[('bom_id','=', source_bom_id)]" widget="many2many_tags"/>
                        </group>
                    </group>
                </sheet>
                <footer>
                    <button type="object" name="update_btn" string="Update" class="btn-primary"/>
                    <button special="cancel" string="Cancel" class="btn-default"/>
                </footer>
            </form>
        </field>
    </record>    
    
</odoo>