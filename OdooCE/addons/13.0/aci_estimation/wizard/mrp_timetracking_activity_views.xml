<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="mrp_timetracking_activity_wizard_form_view" model="ir.ui.view">
            <field name="name">mrp.timetracking.activity.wizard.form.view</field>
            <field name="model">mrp.timetracking.activity.wizard</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <field name="workcenter_ids" readonly="1" widget="many2many_tags"/>
                        <field name="start_date"/>
                        <field name="end_date"/>
                    </group>
                    <footer>
                        <button string="Create" name="create_activity_block" type="object" class="btn-primary"/>
                        <button string="Cancel" special="cancel" class="btn-default"/>
                    </footer>
                </form>
            </field>
        </record>
        <record id="mrp_timetracking_workcenter_wizard_form_view" model="ir.ui.view">
            <field name="name">mrp.timetracking.workcenter.wizard.form.view</field>
            <field name="model">mrp.timetracking.workcenter.wizard</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <group>
                            <group>
                                <label for="option" colspan="2"/>
                                <field name="option_estimation"/>
                                <field name="option_workcenter"/>
                                <field name="option_period"/>
                            </group>
                            <group>
                                <label for="source" colspan="2"/>
                                <div class="o_row" colspan="2" style="margin-left: 32px;">
                                    <field name="source" widget="radio" required="1"/>
                                </div>
                            </group>
                        </group>
                        <group>
                            <field name="estimated" widget="radio"
                                   attrs="{'invisible': [('option_estimation', '!=', True)],
                                           'required': [('option_estimation', '=', True)]}"/>
                            <field name="planned_workcenter" attrs="{'invisible': [('option_workcenter', '!=', True)]}"/>
                            <div class="o_row" colspan="2" style="margin-left: 32px;"
                                attrs="{'invisible': ['|', ('option_workcenter', '!=', True),
                                                        ('planned_workcenter', '=', True)]}">
                                <label for="workcenter_id"/>
                                <field name="workcenter_id" domain="[('contract_id', '!=', None),
                                                                     ('resource_calendar_id', '!=', None),
                                                                     ('period_group_id', '!=', None)]"
                                       options="{'no_create': True, 'no_edit': True, 'no_open': True}"
                                       attrs="{'required': [('option_workcenter', '=', True),
                                                            ('planned_workcenter', '=', False)]}"/>
                            </div>
                            <field name="period_ids" invisible="1"/>
                            <div class="o_row" colspan="2" style="margin-left: 32px;"
                                attrs="{'invisible': [('option_period', '!=', True)]}">
                                <label for="period_id"/>
                                <field name="period_id"
                                       domain="[('id', 'in', period_ids)]"
                                       options="{'no_create': True, 'no_edit': True, 'no_open': True}"
                                       attrs="{'required': [('option_period', '=', True)]}"/>
                            </div>
                        </group>
                    </group>
                    <footer>
                        <button string="Change" name="change_btn" type="object" class="btn-primary"/>
                        <button string="Cancel" special="cancel" class="btn-default"/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>